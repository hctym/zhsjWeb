<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis_mapper.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhsj.dao.BusinessInfoDao">

         <select id="getBusinessInfoById" parameterType="java.lang.Integer" resultType="com.zhsj.model.BusinessInfo">
             select * from businessinfo where id = #{id}
         </select>
    
         <insert id="insert" useGeneratedKeys="true" parameterType="com.zhsj.model.BusinessInfo" >
            insert into businessinfo (
              shopName,
              parentId,
              shopType,
              areaId,
              address,
              contact,
              contactPhone,
              shopLogo,
              intro,
              status,
              iscooperate,
              latitude,
              longitude,
              iszx,
              ctime,
              utime
            ) values (
              #{shopName},
              #{parentId},
              #{shopType},
              #{areaId},
              #{address},
              #{contact},
              #{contactPhone},
              #{shopLogo},
              #{intro},
              #{status},
              #{iscooperate},
              #{latitude},
              #{longitude},
              #{iszx},
              #{ctime},
              #{utime}
            )
         </insert>
         
         
         <update id="update" >
         
             update businessinfo set 
                    shopName=#{shopName},
                    parentId = #{parentId},
                    shopType = #{shopType},
                    areaId = #{areaId},
                    address = #{address},
                    contact = #{contact},
                    contactPhone = #{contactPhone},
                    shopLogo = #{shopLogo},
                    intro = #{intro},
                    status = #{status}
                    where id = #{id}
         
         </update>



        <select id="getBusinessInfoList" parameterType="java.lang.Integer" resultType="com.zhsj.model.BusinessInfo">
           select * from businessinfo limit #{start},#{end}
        </select>
        
        
        <delete id="delete" parameterType="java.lang.Integer">
           delete from businessinfo where id = #{id}
        </delete>
        
        <!-- 通过商家用户id 查询商家信息() -->
        <select id="getBusinessInfoByBuId" parameterType="java.lang.Integer" resultType="com.zhsj.model.BusinessInfo">
           select  
              bi.*
             from 
           BusinessInfo bi left join BusinessInfoUser biu 
           on bi.id = biu.businessInfoId 
           where biu.businessUserId = #{businessUserId}
        
        </select>
</mapper>